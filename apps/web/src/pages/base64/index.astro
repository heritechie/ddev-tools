---
import BaseLayout from '../../layouts/BaseLayout.astro';
---

<BaseLayout title="Base64 Encode / Decode">
  <h1>Base64 Encode / Decode</h1>

  <textarea 
    id="input" 
    placeholder="Paste text or base64 here">
  </textarea>

  <br />
  <button id="encode">Encode</button>
  <button id="decode">Decode</button>

  <div id="result"></div>

  <script type="module">
    import { encodeBase64, decodeBase64 } from '/_core/base64.js';

    const input = document.getElementById('input');
    const result = document.getElementById('result');

    document.getElementById('encode').onclick = () => {
      result.innerHTML = '';
      try {
        const out = encodeBase64(input.value);
        const pre = document.createElement('pre');
        pre.textContent = out;
        result.appendChild(pre);
      } catch (e) {
        result.innerHTML = '<p class="error">' + e.message + '</p>';
      }
    };

    document.getElementById('decode').onclick = () => {
      result.innerHTML = '';
      try {
        const out = decodeBase64(input.value);
        const pre = document.createElement('pre');
        pre.textContent = out;
        result.appendChild(pre);
      } catch (e) {
        result.innerHTML = '<p class="error">' + e.message + '</p>';
      }
    };
  </script>
</BaseLayout>

