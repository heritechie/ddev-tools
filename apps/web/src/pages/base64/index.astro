---
import BaseLayout from '../../layouts/BaseLayout.astro';
---

<BaseLayout title="Base64 Encode / Decode">
  <style>
    textarea {
      width: 100%;
      min-height: 180px;
      background: var(--bg-input);
      color: var(--text-main);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 12px;
      font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
      font-size: 14px;
      line-height: 1.5;
    }

    textarea:focus {
      outline: none;
      border-color: var(--accent);
    }

    button {
      background: var(--bg-hover);
      color: var(--text-main);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 6px 12px;
      cursor: pointer;
    }

    button:hover {
      background: var(--bg-active);
    }

    button + button {
      margin-left: 8px;
    }

    pre {
      margin-top: 16px;
      background: #111;
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 12px;
      white-space: pre-wrap;
      font-family: ui-monospace, monospace;
      font-size: 14px;
    }

    .error {
      margin-top: 12px;
      color: #ff6b6b;
    }

  </style>

  <h1>Base64 Encode / Decode</h1>

  <textarea 
    id="input" 
    placeholder="Paste text or base64 here">
  </textarea>

  <br />
  <button id="encode">Encode</button>
  <button id="decode">Decode</button>

  <div id="result"></div>

  <script type="module">
    import { encodeBase64, decodeBase64 } from '/_core/base64.js';

    const input = document.getElementById('input');
    const result = document.getElementById('result');

    document.getElementById('encode').onclick = () => {
      result.innerHTML = '';
      try {
        const out = encodeBase64(input.value);
        const pre = document.createElement('pre');
        pre.textContent = out;
        result.appendChild(pre);
      } catch (e) {
        result.innerHTML = '<p class="error">' + e.message + '</p>';
      }
    };

    document.getElementById('decode').onclick = () => {
      result.innerHTML = '';
      try {
        const out = decodeBase64(input.value);
        const pre = document.createElement('pre');
        pre.textContent = out;
        result.appendChild(pre);
      } catch (e) {
        result.innerHTML = '<p class="error">' + e.message + '</p>';
      }
    };
  </script>
</BaseLayout>

